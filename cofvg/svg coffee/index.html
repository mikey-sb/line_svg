<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    
    <div class="line-container scroll svg-scroll" data-rate="-0.6" data-direction="vertical">
        <svg viewBox="0 0 273 2036" fill="none" preserveAspectRatio="xMidYMax meet">
            <path d="M206 0V1317C201.651 1342.12 230.321 1316.23 274.5 1279C298.519 1269.24 311.981 1269.65 336 1279L352 1292C365.472 1303.54 364.441 1305.88 350 1304L313.5 1295C295.135 1291.44 284.869 1291.48 266.5 1295L247.5 1304C239.345 1310.45 239.135 1314.06 247.5 1320.5C256.007 1326.85 259.904 1328.14 266.5 1329.5C291.884 1333.22 306.116 1332.85 331.5 1329.5C355.636 1322.46 367.198 1317.02 383.5 1304C392.762 1296.45 397.096 1292.19 403 1284.5C406.25 1276.98 407.239 1272.63 403 1264C394.348 1245.97 386.1 1237.05 366 1223C354.701 1216.93 347.112 1215.12 331.5 1214.5C315.439 1213.18 305.713 1213.29 287.5 1214.5C262.018 1216.12 248.872 1218.95 229 1230C214.828 1243.1 211.471 1253.57 211 1276V1311C211.586 1314.12 211.914 1315.88 212.5 1319C212.728 1346.31 221.1 1368.8 239 1411.5C241.887 1420.99 242.856 1426.49 242 1437C241.206 1441.24 239.168 1443.12 234 1446C230.29 1447.92 228.21 1448.11 224.5 1446C222.993 1444.64 222.493 1443.62 222 1441.5V1434C216.991 1427.86 213.224 1429.17 206 1434C200.776 1438.11 198.673 1440.77 196 1446C193.632 1456.61 193.681 1462.86 196 1474.5C204.156 1501.81 214.049 1511.55 234 1526.5C246.853 1533.37 260.5 1535 266.5 1535C272.5 1535 272.255 1529.95 266.5 1523.5C260.745 1517.05 217.03 1484.64 215 1485.5C208.188 1481.61 204.223 1480.36 196 1485.5L187.5 1490.5C177.542 1495.02 171.958 1494.07 162 1490.5C155.317 1487.96 151.363 1488.01 144 1490.5C122.054 1503.85 112.254 1512.43 96.5 1528.5C91.4068 1534.1 92 1538 96.5 1538C102.294 1538.4 105.388 1538.43 110.5 1538C134.387 1535.47 147.478 1535.22 170 1538C189.373 1541.44 197.5 1540.46 211 1538C224.5 1535.54 252.5 1541.5 256 1543.5C259.5 1545.5 262.49 1548.91 259.5 1557C249.606 1572.64 241.201 1579.29 222 1588C214.099 1590.71 209.617 1591.75 201 1588C194.255 1586.31 190.104 1586.31 182 1588C172.926 1590.87 167.256 1591.18 155.5 1588C135.308 1580.3 124.976 1575.06 110.5 1562C98.9472 1552.42 91.4285 1548.79 75.5 1546.5C59.7547 1546.14 51.0594 1546.08 36 1546.5C11.3842 1547.58 -2 1564 2 1573C6 1582 10.2776 1587.63 18 1596C56.3565 1637.87 81.4507 1656.3 133 1679.5C151.142 1686.24 160.937 1685.54 178 1679.5C189.513 1675.37 195.569 1675.9 206 1679.5C218.131 1683.6 224.052 1682.88 234 1679.5C255.274 1673.78 267.607 1668.84 293 1645.5C322.665 1615.19 337.409 1597.04 358.5 1561.5C381.759 1520.11 386.052 1496.9 385.5 1455.5C382.566 1439.24 376.445 1439.7 358.5 1455.5C343.559 1475.78 352.5 1471 331.5 1510C310.5 1549 208.249 1631.77 206 1792V4979.5L186 4999C162.566 5028.03 165 5040 191 5046L213 5050L328 5057.5L347 5061.5C375.02 5067.17 373.18 5070.34 347 5076L291 5081C222.108 5084.88 182.385 5083.5 110 5076L70 5066.5C48.5925 5054.37 50.4631 5048.73 70 5040C87.5294 5033.64 97.0206 5031.49 113.5 5029.5C162.378 5026.92 185.887 5027.29 224.5 5029.5C281.517 5032.32 312.836 5034.04 355 5040C394.096 5043.67 406.676 5051.56 404.5 5081L383 5180L378 5218C376.742 5249.49 385.59 5250.4 408.5 5239.5L437.5 5218C459.298 5192 467.491 5174.79 472 5137.5C474.842 5110.3 469.807 5097.73 447 5081C429.418 5067.86 418.471 5068.68 397.5 5081C374.213 5111.86 367.895 5134.51 363 5180L344 5294.5C332.644 5341.19 320.91 5356.26 291 5364.5L146 5375C112.757 5377.47 98.983 5369.1 86 5331L47 5166C40.7621 5139.8 42 5101 42 5095C42 5089 47 5090 47 5095C47 5100 46.8109 5140.02 53 5166L94 5331C106.664 5363.96 118.706 5370.46 146 5368L194 5364.5C204.412 5363.53 206.615 5367.81 206 5381.5V8807.5H102.5C73.5 8807.5 59 8814.5 59 8844V8863L19 8878L102.5 8903L385 8807.5V8898L102.5 8994L59 8983V8989L19 9002.5L102.5 9030L385 8934.5V9024L102.5 9120.5L59 9108V9116.5L19 9131M19 9131L102.5 9157.5L385 9060V9152.5L102.5 9247.5L19 9223.5V9131Z" stroke="black"/>
        </svg>     
    </div>

    <svg width="474" height="9249" viewBox="0 0 474 9249" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M206 0V1317C201.651 1342.12 230.321 1316.23 274.5 1279C298.519 1269.24 311.981 1269.65 336 1279L352 1292C365.472 1303.54 364.441 1305.88 350 1304L313.5 1295C295.135 1291.44 284.869 1291.48 266.5 1295L247.5 1304C239.345 1310.45 239.135 1314.06 247.5 1320.5C256.007 1326.85 259.904 1328.14 266.5 1329.5C291.884 1333.22 306.116 1332.85 331.5 1329.5C355.636 1322.46 367.198 1317.02 383.5 1304C392.762 1296.45 397.096 1292.19 403 1284.5C406.25 1276.98 407.239 1272.63 403 1264C394.348 1245.97 386.1 1237.05 366 1223C354.701 1216.93 347.112 1215.12 331.5 1214.5C315.439 1213.18 305.713 1213.29 287.5 1214.5C262.018 1216.12 248.872 1218.95 229 1230C214.828 1243.1 211.471 1253.57 211 1276V1311C211.586 1314.12 211.914 1315.88 212.5 1319C212.728 1346.31 221.1 1368.8 239 1411.5C241.887 1420.99 242.856 1426.49 242 1437C241.206 1441.24 239.168 1443.12 234 1446C230.29 1447.92 228.21 1448.11 224.5 1446C222.993 1444.64 222.493 1443.62 222 1441.5V1434C216.991 1427.86 213.224 1429.17 206 1434C200.776 1438.11 198.673 1440.77 196 1446C193.632 1456.61 193.681 1462.86 196 1474.5C204.156 1501.81 214.049 1511.55 234 1526.5C246.853 1533.37 260.5 1535 266.5 1535C272.5 1535 272.255 1529.95 266.5 1523.5C260.745 1517.05 217.03 1484.64 215 1485.5C208.188 1481.61 204.223 1480.36 196 1485.5L187.5 1490.5C177.542 1495.02 171.958 1494.07 162 1490.5C155.317 1487.96 151.363 1488.01 144 1490.5C122.054 1503.85 112.254 1512.43 96.5 1528.5C91.4068 1534.1 92 1538 96.5 1538C102.294 1538.4 105.388 1538.43 110.5 1538C134.387 1535.47 147.478 1535.22 170 1538C189.373 1541.44 197.5 1540.46 211 1538C224.5 1535.54 252.5 1541.5 256 1543.5C259.5 1545.5 262.49 1548.91 259.5 1557C249.606 1572.64 241.201 1579.29 222 1588C214.099 1590.71 209.617 1591.75 201 1588C194.255 1586.31 190.104 1586.31 182 1588C172.926 1590.87 167.256 1591.18 155.5 1588C135.308 1580.3 124.976 1575.06 110.5 1562C98.9472 1552.42 91.4285 1548.79 75.5 1546.5C59.7547 1546.14 51.0594 1546.08 36 1546.5C11.3842 1547.58 -2 1564 2 1573C6 1582 10.2776 1587.63 18 1596C56.3565 1637.87 81.4507 1656.3 133 1679.5C151.142 1686.24 160.937 1685.54 178 1679.5C189.513 1675.37 195.569 1675.9 206 1679.5C218.131 1683.6 224.052 1682.88 234 1679.5C255.274 1673.78 267.607 1668.84 293 1645.5C322.665 1615.19 337.409 1597.04 358.5 1561.5C381.759 1520.11 386.052 1496.9 385.5 1455.5C382.566 1439.24 376.445 1439.7 358.5 1455.5C343.559 1475.78 352.5 1471 331.5 1510C310.5 1549 208.249 1631.77 206 1792V4979.5L186 4999C162.566 5028.03 165 5040 191 5046L213 5050L328 5057.5L347 5061.5C375.02 5067.17 373.18 5070.34 347 5076L291 5081C222.108 5084.88 182.385 5083.5 110 5076L70 5066.5C48.5925 5054.37 50.4631 5048.73 70 5040C87.5294 5033.64 97.0206 5031.49 113.5 5029.5C162.378 5026.92 185.887 5027.29 224.5 5029.5C281.517 5032.32 312.836 5034.04 355 5040C394.096 5043.67 406.676 5051.56 404.5 5081L383 5180L378 5218C376.742 5249.49 385.59 5250.4 408.5 5239.5L437.5 5218C459.298 5192 467.491 5174.79 472 5137.5C474.842 5110.3 469.807 5097.73 447 5081C429.418 5067.86 418.471 5068.68 397.5 5081C374.213 5111.86 367.895 5134.51 363 5180L344 5294.5C332.644 5341.19 320.91 5356.26 291 5364.5L146 5375C112.757 5377.47 98.983 5369.1 86 5331L47 5166C40.7621 5139.8 42 5101 42 5095C42 5089 47 5090 47 5095C47 5100 46.8109 5140.02 53 5166L94 5331C106.664 5363.96 118.706 5370.46 146 5368L194 5364.5C204.412 5363.53 206.615 5367.81 206 5381.5V8807.5H102.5C73.5 8807.5 59 8814.5 59 8844V8863L19 8878L102.5 8903L385 8807.5V8898L102.5 8994L59 8983V8989L19 9002.5L102.5 9030L385 8934.5V9024L102.5 9120.5L59 9108V9116.5L19 9131M19 9131L102.5 9157.5L385 9060V9152.5L102.5 9247.5L19 9223.5V9131Z" stroke="black"/>
        </svg>
        

    <section class="one">
        <h1 class="scroll" data-rate=".4" data-direction="vertical">brewed coffee</h1>
    </section>

    <section class="two">
        <h1 class="scroll" data-rate=".1" data-direction="vertical"></h1>
        <p></p>
    </section>
    <div class="alchemy-text">
        <h1 class="alchemy-h1" id="alchemy-h1-1">THE</h1>
        <h1 class="alchemy-h1" id="alchemy-h1-2">ALCHEMY</h1>
        <h1 class="alchemy-h1" id="alchemy-h1-3">EXPERIMENT</h1>
    </div>

    <script>

        let path = document.querySelector('path');
        let pathLength = path.getTotalLength();

        path.style.strokeDasharray = pathLength + ' ' + pathLength;

        path.style.strokeDashoffset = pathLength;

        window.addEventListener('scroll', () => {

            var scrollPercentage = (document.documentElement.scrollTop + document.body.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);
            var drawLength = pathLength * scrollPercentage;

            path.style.strokeDashoffset = pathLength - drawLength;

            const target = document.querySelectorAll('.scroll');

            var index = 0, length = target.length;
            var offSet = window.pageYOffset;
            var pos = window.pageYOffset * rate;

            for (index; index < length; index++){

                var rate = target[index].dataset.rate;
                var offSet = window.pageYOffset;
                var pos = window.pageYOffset * rate;

                if (index == 0) {

                    const svgTarget = document.querySelector('.svg-scroll');

                    const lineOne = document.getElementById('alchemy-h1-1');
                    const lineTwo = document.getElementById('alchemy-h1-2');
                    const lineThree = document.getElementById('alchemy-h1-3');

                    const activeColor = 'rgba(0, 0, 0, 1)';
                    const hiddenColor = 'rgba(0, 0, 0, 0)';

                    const breakpoint1 = -2620;
                    const breakpoint2 = -2900;
                    const breakpoint3 = -3200;
                    
                    var lineTopBump = 0;
                    var transitionOff = 'none';
                    var transitionOn = 'top 1s ease';

                    if (pos <= -660 && pos > -2620) {
                        svgTarget.style.setProperty('--transition', transitionOn);
                        lineTopBump = -100;
                    }

                    if (pos <= -2620) {
                        svgTarget.style.setProperty('--transition', transitionOff);
                        lineTopBump = -(pos + 2720);
                    } 

                    // console.log(pos)

                    if (pos > breakpoint1){
                        lineOne.style.setProperty('color', hiddenColor);  
                    }
                    if(pos > breakpoint2){
                        lineTwo.style.setProperty('color', hiddenColor);
                    }
                    if (pos > breakpoint3){
                        lineThree.style.setProperty('color', hiddenColor);
                    }

                    if(pos < breakpoint1){
                        lineOne.style.setProperty('color', activeColor);
                    }
                    if(pos < breakpoint2){
                        lineTwo.style.setProperty('color', activeColor);
                    }
                    if(pos < breakpoint3){
                        lineThree.style.setProperty('color', activeColor);
                    }

                    svgTarget.style.setProperty('--line-top', lineTopBump + 'px'); 
                }

                if (target[index].dataset.direction == 'vertical') {
                    target[index].style.transform = 'translate3d(0px, '+pos+'px, 0px)';

                } else {
                    var posY = window.pageYOffset * target[index].dataset.ratey;

                    target[index].style.transform = 'translate3d('+posX+'px, '+posY+'px, 0px)';
                }
            }
        });
    </script>

</body>
</html>